<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="img/favicon.ico" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Globoticket</title>
  </head>
  <body>
    <div id="root">
        <nav class="navbar navbar-expand navbar-dark fixed-top bg-dark">
            <div class="container-fluid">
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav me-auto ms-3 mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a href="./index.html" class="navbar-brand"><img src="img/logo.png" alt="Globoticket logo" /></a>
                        </li>
                    </ul>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav ms-auto me-5 mb-2 mb-lg-0">
                        <li class="nav-item">
                            <!-- 2.2. link to the shopping cart page 

                            If we click somewhere on or inside that link, the default behavior is that that link is loaded, no matter whether we wire up some event handlers or not.
                            -->
                            <a href="./cart.html" class="nav-link">
                                <span class="bi bi-cart-plus-fill text-white font-xxlarge"></span>
                                <span class="font-upper font-bold text-white ms-4">
                                    <span class="font-xxlarge align-middle" id="spanTickets">0</span>
                                    <span class="align-middle ms-2">ticket(s)</span>
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container" id="eventtable">
            <div class="container">
                <table class="table mt-5">
                    <thead>
                        <tr>
                            <th scope="col"></th>
                            <th scope="col">Date</th>
                            <th scope="col">Name</th>
                            <th scope="col">Artist</th>
                            <th scope="col">Price</th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="align-middle">
                            <td>
                                <img class="img-fluid max-100" src="img/logos/Container-Enthusiasm-TalkDocker-To-Me.png" alt="Cover" />
                            </td>
                            <td class="max-50">
                                10/1/2025, 7:00:00 PM
                            </td>
                            <td class="max-50">
                                Talk Docker to Me Tour
                            </td>
                            <td class="max-50">
                                Container Enthusiasm
                            </td>
                            <td class="max-50">
                                $49.99
                            </td>
                            <td class="max-50">
                                <button type="button" class="btn btn-primary btn-primary-themed btn-md font-upper">Add to Cart</button>
                            </td>
                        </tr>               
                        <tr class="align-middle">
                            <td>
                                <img class="img-fluid max-100" src="img/logos/DigitalCowboys_BinaryBovine.png" alt="Cover" />
                            </td>
                            <td class="max-50">
                                11/1/2025, 7:30:00 PM
                            </td>
                            <td class="max-50">
                                Binary Bovine Tour
                            </td>
                            <td class="max-50">
                                Digital Cowboys
                            </td>
                            <td class="max-50">
                                $59.99
                            </td>
                            <td class="max-50">
                                <button type="button" class="btn btn-primary btn-primary-themed btn-md font-upper">Add to Cart</button>
                            </td>
                        </tr>               
                        <tr class="align-middle">
                            <td>
                                <img class="img-fluid max-100" src="img/logos/GitOuttaMyHub-CodeEmpire.png" alt="Cover" />
                            </td>
                            <td class="max-50">
                                12/1/2025, 8:00:00 PM
                            </td>
                            <td class="max-50">
                                Code Empire Tour
                            </td>
                            <td class="max-50">
                                Git Outta My Hub
                            </td>
                            <td class="max-50">
                                $39.99
                            </td>
                            <td class="max-50">
                                <button type="button" class="btn btn-primary btn-primary-themed btn-md font-upper">Add to Cart</button>
                            </td>
                        </tr>               
                        <tr class="align-middle">
                            <td>
                                <img class="img-fluid max-100" src="img/logos/Memory-Allocation-The-Cache.png" alt="Cover" />
                            </td>
                            <td class="max-50">
                                1/15/2026, 8:30:00 PM
                            </td>
                            <td class="max-50">
                                The Cache Tour
                            </td>
                            <td class="max-50">
                                Memory Allocation
                            </td>
                            <td class="max-50">
                                $29.99
                            </td>
                            <td class="max-50">
                                <button type="button" class="btn btn-primary btn-primary-themed btn-md font-upper">Add to Cart</button>
                            </td>
                        </tr>               
                        <tr class="align-middle">
                            <td>
                                <img class="img-fluid max-100" src="img/logos/Network-Firewall-Squad---For-Those-About-to-Block,-We-Salute-You.png" alt="Cover" />
                            </td>
                            <td class="max-50">
                                3/8/2026, 8:45:00 PM
                            </td>
                            <td class="max-50">
                                For Those About To Block Tour
                            </td>
                            <td class="max-50">
                                Network Firewall Squad
                            </td>
                            <td class="max-50">
                                $69.99
                            </td>
                            <td class="max-50">
                                <button type="button" class="btn btn-primary btn-primary-themed btn-md font-upper">Add to Cart</button>
                            </td>
                        </tr>               
                    </tbody>
                </table>
            </div>
        </div>
        <footer class="bg-dark fixed-bottom">
            <div class="text-center text-white font-xxlarge">
                &copy; <span id="copyright-year"></span> Globoticket
            </div>
        </footer>
    </div>
    <script>
        document.querySelector("footer div").childNodes[1].textContent = 
            new Date().getFullYear();
        document.querySelector("footer div").classList.remove("font-xxlarge");
        document.querySelector("footer div").classList.add("font-large");


        let btn = document.querySelector("button");
        btn.addEventListener(
            "click",
            addToCart,
            { once: true });

             /* Preventing Default Behavior: 
        
        In JavaScript, the event.preventDefault() method is a powerful tool for controlling browser behaviors associated with various events. This method, when invoked on an event object, instructs the browser not to perform the default action associated with that event. This is particularly useful in scenarios like:

            1. Form Submission: Normally, when you click a submit button in a form, the default behavior is to send the form data to a server. Using event.preventDefault(), you can stop this automatic submission, allowing you to, for instance, validate the form data with JavaScript before deciding whether to submit it.

            2. Link Navigation: Clicking a link (2.2 above) typically navigates the browser to a new URL. However, if you want to perform a different action when the link is clicked (like opening a modal or fetching data without leaving the page), event.preventDefault() can be used to prevent the normal navigation behavior.

        This method is commonly used in modern web applications to create dynamic, user-interactive experiences without relying on the standard behaviors of HTML elemen
        
        */
        /* In our application: 

        I would like to prevent certain default behaviors of the browser. Let me explain what I mean with that. Typical examples for such default behaviors are buttons, or to be precise, submit buttons within an HTML form. 

         The default behavior of such a button is that the form is submitted, or if we have links, for instance, that link to the shopping cart page (2.2 above), if we click somewhere on or inside that link, the default behavior is that that link is loaded, no matter whether we wire up some event handlers or not. 
         
         Let me demonstrate that. 
         
         For instance, we could say we do not allow going to the shopping cart page if there are no items within the shopping cart. In order to do that, let me write a helper function first. 
         
         So how about getCartItemCount, and I just copy that in here, and then just do a return, and then let count = getCartItem count, because I need that now as well, that's the idea. 
         
         So I'd like to add an event listener to our link to the cart page. How could we do this? 
         
         For instance, by calling document.querySelector, and then my selector could be something like this, all a elements where the href attribute is set to ./cart.html. 
         
         That's what we have in the HTML markup. And once we have that element, we can do addEventListener, the event name, once again, is click, and I'll use an anonymous inline handler function here. 
         
         And I first get the count, so let count = getCartItemCount. 
         
         And then if the count is 0, I'm opening up a model warning box and saying, no, the cart is empty.
        
        */
        
        function addToCart() {
            let spanTickets = document.getElementById("spanTickets");
            let count = parseInt(spanTickets.textContent) ?? 0;
            spanTickets.textContent = count + 1;
        }
    </script>
  </body>
</html>
